.const
; 配置参数
WINDOW_WIDTH EQU 800 ; 窗口宽度
WINDOW_HEIGHT EQU 600 ; 窗口高度
BUFFER_SIZE EQU 24 ; 缓冲大小
FPS EQU 120 ; 帧率

HORIZON_HEIGHT EQU 188; 地面y坐标
GOOSE_INITIAL_X EQU 100 ;鹅初始x坐标
GOOSE_INITIAL_Y EQU HORIZON_HEIGHT ;鹅初始y坐标
GOOSE_INTERVAL  EQU 10h  ;鹅走动间隔

; 这里定义都使用整数而不是浮点数
GINIT_VX EQU 400      ; 全局x方向速度
JUMP_VY  EQU 800      ; 鹅初始弹跳速度

G EQU 1530  ; 游戏内部重力加速度
JUMPA EQU 500 ; 弹跳辅助加速度

RENDER_OBJ_SIZE EQU BUFFER_SIZE ;绘制集合大小


; 图片结构体
Image STRUCT
    id DWORD ? ; 资源ID
    mask_color DWORD ? ; 透明色
    w DWORD ? ; 宽度
    h DWORD ? ; 高度
    h_dc DWORD ? ; DC句柄
    h_bmp DWORD ? ; BMP句柄
    a_mask DWORD ? ; w*h的数组 每个元素为BYTE 表明位置是否有像素 0无否则有
Image ENDS

; 绘制元素结构体
RenderObject STRUCT
    obj_id DWORD ? ; 元素的ID
    x DWORD ? ; 画布上的X坐标
    y DWORD ? ; 画布上的Y坐标
    z DWORD ? ; 优先级 大的在上面
    p_image DWORD ? ; 图片指针

    vx REAL4 ? ; 元素X方向速度
    vy REAL4 ? ; 元素Y方向速度
    phsx REAL4 ? ; 元素物理X坐标
    phsy REAL4 ? ; 元素物理Y坐标
    lasttsp DWORD ?; 元素最近更新的时间 单位毫秒
RenderObject ENDS

; 绘制元素ID
OBJ_NONE EQU 0  ;空
OBJ_BKG  EQU 1  ;背景
OBJ_GOOSE EQU 2 
OBJ_BIRD  EQU 3
OBJ_BADGE EQU 4
OBJ_OBSTACLE1 EQU 5
OBJ_OBSTACLE2 EQU 6
OBJ_DEBUG1    EQU 7


; 游戏状态
GAME_STATUS_INIT EQU 0 ; 未开始
GAME_STATUS_RUN EQU 1 ; 运行中
GAME_STATUS_OVER EQU 2 ; 结束

; 游戏主结构
GameState STRUCT
    status DWORD ? ; 状态
    time DWORD ? ; 时间 单位毫秒
    score DWORD ? ; 分数
    background_color DWORD ? ; 背景颜色
    render_object_size DWORD ? ; 绘制元素数量
    p_a_render_object DWORD ? ; 指向绘制元素数组的指针 数组中每个元素是RenderObject结构体

    global_vx REAL4 ? ; 整体速度（左移为负）
GameState ENDS


; 图片

IMAGES_START EQU $ ; 开始标记

IMAGE_GOOSE_STAND_ID DWORD 101
IMAGE_GOOSE_STAND_MASK_COLOR DWORD 00FF00h
IMAGE_GOOSE_RUN0_ID DWORD 102
IMAGE_GOOSE_RUN0_MASK_COLOR DWORD 00FF00h
IMAGE_GOOSE_RUN1_ID DWORD 103
IMAGE_GOOSE_RUN1_MASK_COLOR DWORD 00FF00h
IMAGE_GOOSE_JUMP_ID DWORD 104
IMAGE_GOOSE_JUMP_MASK_COLOR DWORD 00FF00h

IMAGE_BIT_BADGE_ID DWORD 201
IMAGE_BIT_BADGE_MASK_COLOR DWORD 000000h

IMAGE_BIRD0_ID DWORD 301
IMAGE_BIRD0_MASK_COLOR DWORD 000000h
IMAGE_BIRD1_ID DWORD 302
IMAGE_BIRD1_MASK_COLOR DWORD 000000h


IMAGE_BACKGROUND_ID DWORD 401
IMAGE_BACKGROUND_MASK_COLOR DWORD 000000h

IMAGE_GYM_ID DWORD 501
IMAGE_GYM_MASK_COLOR DWORD 00FF00h

IMAGE_MUSEUM_ID DWORD 601
IMAGE_MUSEUM_MASK_COLOR DWORD 00FF00h

IMAGE_LIBRARY_ID DWORD 701
IMAGE_LIBRARY_MASK_COLOR DWORD 0FF0000h

IMAGE_STONE_ID DWORD 801
IMAGE_STONE_MASK_COLOR DWORD 00FF00h

IMAGE_GATE_ID DWORD 901
IMAGE_GATE_MASK_COLOR DWORD 00FF00h

IMAGE_CLOUD_ID DWORD 1001
IMAGE_CLOUD_MASK_COLOR DWORD 000000h


IMAGES_END EQU $ ; 结束标记

IMAGES_SIZE EQU (IMAGES_END - IMAGES_START) / 8 ; 计算图片数量

; 音频相关常量
VOICEBUFFER_SIZE EQU         1024
DBTHRESHOLD dword 1000